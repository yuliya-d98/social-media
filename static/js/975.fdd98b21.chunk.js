"use strict";(self.webpackChunkreact_01=self.webpackChunkreact_01||[]).push([[975],{4975:function(e,r,n){n.r(r),n.d(r,{default:function(){return p}});var t=n(1413),c=n(9439),s=n(9529),u=n(4863),o=n(7492),a=n(4299),i=n(3499),l=n(2791),f=n(364),h=n(7773),d=function(e){return e.chat.messages},v=function(e){return e.chat.status},x=n(184),j=u.Z.TextArea,p=function(){return(0,x.jsx)(g,{})},g=function(){var e=(0,f.v9)(v),r=(0,f.I0)();return(0,l.useEffect)((function(){return r((0,h.WE)()),function(){r((0,h.R7)())}}),[]),(0,x.jsxs)(x.Fragment,{children:["error"===e&&(0,x.jsx)("p",{children:"Some error occured, please refresh page"}),(0,x.jsx)(m,{}),(0,x.jsx)(k,{})]})},m=function(){var e=(0,f.v9)(d),r=(0,l.useState)(!1),n=(0,c.Z)(r,2),s=n[0],u=n[1],o=(0,l.useRef)(null);(0,l.useEffect)((function(){var e;s&&(null===(e=o.current)||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"}))}),[e]);return(0,x.jsxs)("div",{style:{height:"calc(100vh - 300px)",overflowY:"auto"},onScroll:function(e){var r=e.currentTarget;Math.abs(r.scrollHeight-r.scrollTop-r.clientHeight)<300?!s&&u(!0):s&&u(!1)},children:[e.map((function(e){return(0,l.createElement)(b,(0,t.Z)((0,t.Z)({},e),{},{key:e.id}))})),(0,x.jsx)("div",{ref:o})]})},b=l.memo((function(e){return(0,x.jsxs)("div",{children:[(0,x.jsx)(o.C,{style:{backgroundColor:"#87d068"},src:e.photo,icon:(0,x.jsx)(s.Z,{})}),(0,x.jsx)("span",{children:e.userName}),(0,x.jsx)("p",{children:e.message}),(0,x.jsx)("hr",{})]})})),k=function(){var e=(0,l.useState)(""),r=(0,c.Z)(e,2),n=r[0],t=r[1],s=(0,f.v9)(v),u=(0,f.I0)();return(0,x.jsxs)(a.Z,{children:[(0,x.jsx)(j,{rows:4,onChange:function(e){return t(e.currentTarget.value)},value:n}),(0,x.jsx)(i.Z,{onClick:function(){n&&(u((0,h.bG)(n)),t(""))},disabled:"ready"!==s,children:"Send"})]})}}}]);
//# sourceMappingURL=975.fdd98b21.chunk.js.map