"use strict";(self.webpackChunkreact_01=self.webpackChunkreact_01||[]).push([[594],{594:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var r=t(2791),s=t(1413),i=t(364),o=t(819),a=t(211),u=t(8488),l=(0,t(6916).P1)((function(e){return e.usersPage.usersData}),(function(e){return e.filter((function(){return!0}))})),c=function(e){return e.usersPage.pageSize},f=function(e){return e.usersPage.totalUsersCount},d=function(e){return e.usersPage.filter},g=function(e){return e.usersPage.currentPage},m=function(e){return e.usersPage.isFetching},h=function(e){return e.usersPage.followingInProgress},_=t(9439),v=t(8182),x="paginator_pagination__cc2kf",p="paginator_pages__fdbeI",j="paginator_page__h+OLq",w="paginator_button__qNMIY",b="paginator_active__9MKRG",I=t(184),P=function(e){var n=e.totalItemsCount,t=e.pageSize,s=void 0===t?10:t,i=e.numOfPages,o=void 0===i?10:i,a=e.onPageChanged,u=e.currentPage,l=Math.ceil(u/o),c=(0,r.useState)(l),f=(0,_.Z)(c,2),d=f[0],g=f[1],m=Math.ceil(n/s),h=(d-1)*o+1,P=d*o;P>m&&(P=m);for(var N=Math.ceil(m/o),C=[],k=h;k<=P;k+=1)C.push(k);return(0,I.jsxs)("div",{className:x,children:[d>1&&(0,I.jsx)("button",{onClick:function(){return g(1)},className:(0,v.Z)(j,w),children:"<<"}),d>1&&(0,I.jsx)("button",{onClick:function(){return g(d-1)},className:(0,v.Z)(j,w),children:"Prev"}),(0,I.jsx)("div",{className:p,children:C.map((function(e){return(0,I.jsx)("span",{className:(0,v.Z)(j,u===e&&[b]),onClick:function(){return a(e)},children:e},e)}))}),d<N&&(0,I.jsx)("button",{onClick:function(){return g(d+1)},className:(0,v.Z)(j,w),children:"Next"}),d<N&&(0,I.jsx)("button",{onClick:function(){return g(N)},className:(0,v.Z)(j,w),children:">>"})]})},N=t(2317),C=t(3504),k={user:"users_user__Sr8u0",userImgAndFollow:"users_userImgAndFollow__u3rLV",image:"users_image__5fLzH",followButton:"users_followButton__2WH68",userInfo:"users_userInfo__Cy0uP",username:"users_username__kxcMD",city:"users_city__85JCG",text:"users_text__4Kr5D"},S=function(e){return(0,I.jsxs)("div",{className:k.user,id:e.userId.toString(),children:[(0,I.jsxs)("div",{className:k.userImgAndFollow,children:[(0,I.jsx)(C.OL,{to:"/profile/".concat(e.userId.toString()),children:(0,I.jsx)("img",{src:e.photo,className:k.image,alt:"avatar"})}),!0===e.followed?(0,I.jsx)("button",{disabled:e.followingInProgress.includes(e.userId),className:k.followButton,onClick:function(){return e.unfollow(e.userId)},children:"Unfollow"}):(0,I.jsx)("button",{disabled:e.followingInProgress.includes(e.userId),className:k.followButton,onClick:function(){return e.follow(e.userId)},children:"Follow"})]}),(0,I.jsxs)("div",{className:k.userInfo,children:[(0,I.jsx)("p",{className:k.username,children:e.name}),(0,I.jsx)("p",{className:k.city,children:"city, country"}),(0,I.jsx)("p",{className:k.status,children:e.status})]})]})},y=t(5705),F=function(){return{}},U=r.memo((function(e){var n=(0,i.v9)(d);return(0,I.jsx)(y.J9,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:F,onSubmit:function(n,t){var r=t.setSubmitting,s=function(e){return{term:e.term,friend:"null"===e.friend?null:"true"===e.friend}}(n);e.onFilterChanged(s),r(!1)},children:function(e){var n=e.isSubmitting;return(0,I.jsxs)(y.l0,{children:[(0,I.jsx)(y.gN,{type:"text",name:"term"}),(0,I.jsxs)(y.gN,{name:"friend",as:"select",children:[(0,I.jsx)("option",{value:"null",children:"All"}),(0,I.jsx)("option",{value:"true",children:"Only Followed"}),(0,I.jsx)("option",{value:"false",children:"Only Unfollowed"})]}),(0,I.jsx)("button",{type:"submit",disabled:n,children:"Find"})]})}})})),Z=function(){var e=(0,i.v9)(f),n=(0,i.v9)(c),t=(0,i.v9)(g),_=(0,i.v9)(l),v=(0,i.v9)(d),x=(0,i.v9)(m),p=(0,i.v9)(h),j=(0,i.I0)(),w=(0,o.s0)(),b=(0,o.TH)();(0,r.useEffect)((function(){var e=new URLSearchParams((0,s.Z)((0,s.Z)({page:t.toString(),count:n.toString()},v.term&&{term:v.term}),"boolean"===typeof v.friend&&{friend:v.friend.toString()}));w("/users?".concat(e.toString()))}),[v,t,n]),(0,r.useEffect)((function(){var e=b.search,r=new URLSearchParams(e),s=t,i=r.get("page");i&&(s=+i);var o=n,a=r.get("count");a&&(o=+a);var l=v.term,c=r.get("term");c&&(l=c);var f=v.friend;switch(r.get("friend")){case"true":f=!0;break;case"false":f=!1}var d={term:l,friend:f};j((0,u.Uk)(s,o,d))}),[]);var C=function(e){j((0,u.AC)(e))},y=function(e){j((0,u.Ow)(e))};return(0,I.jsxs)("div",{className:k.container,children:[(0,I.jsx)("h2",{children:"Users"}),(0,I.jsx)(U,{onFilterChanged:function(e){j((0,u.Uk)(1,n,e))}}),(0,I.jsx)(P,{totalItemsCount:e,pageSize:n,currentPage:t,onPageChanged:function(e){j((0,u.Uk)(e,n,v))}}),x?(0,I.jsx)(N.Z,{}):null,_.map((function(e){return(0,I.jsx)(S,{name:e.name,followed:e.followed,status:e.status,userId:e.id,photo:e.photos.small?e.photos.small:a,follow:C,unfollow:y,followingInProgress:p},e.id)}))]})},L=function(){return(0,I.jsx)(Z,{})}},211:function(e,n,t){e.exports=t.p+"static/media/user-avatar.0d10fc623bbf0cfa34b9.png"}}]);
//# sourceMappingURL=594.5cc63d89.chunk.js.map