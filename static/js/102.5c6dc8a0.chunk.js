"use strict";(self.webpackChunkreact_01=self.webpackChunkreact_01||[]).push([[102],{7102:function(t,s,e){e.r(s),e.d(s,{default:function(){return E},withRouter:function(){return $}});var a=e(8683),r=e(5671),n=e(3144),u=e(136),o=e(5716),i=e(2791),c=e(364),l=e(6871),p=e(7781),f=e(6713),d=e(6070),m={parallax:"profile_parallax__2ResI"},h=e(1866),_=e(885),x="profile-status_container__HvjWR",j="profile-status_input__72uKi",v="profile-status_text__7aJ-9",g=e(184),N=function(t){var s=(0,i.useState)(!1),e=(0,_.Z)(s,2),a=e[0],r=e[1],n=(0,i.useState)(t.status),u=(0,_.Z)(n,2),o=u[0],c=u[1];(0,i.useEffect)((function(){c(t.status)}),[t.status]);return(0,g.jsx)("div",{className:x,children:a?(0,g.jsx)("input",{className:j,onBlur:function(){r(!1),t.updateStatus(o)},onChange:function(t){c(t.currentTarget.value)},value:o,autoFocus:!0,maxLength:300}):(0,g.jsx)("p",{className:v,onDoubleClick:function(){return r(!0)},children:t.status||"No status"})})},S={user:"user_user__s9iKW",image:"user_image__YH3Qz"},Z=e(211),b=function(t){var s=t.profile,e=t.status,a=t.updateStatus;return s?(0,g.jsxs)("div",{className:S.user,children:[(0,g.jsx)("img",{className:S.image,src:s.photos.large?s.photos.large:Z,alt:"user"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{className:S.header,children:s.fullName}),(0,g.jsx)(N,{status:e,updateStatus:a})]})]}):(0,g.jsx)(h.Z,{})},P="posts_posts__zalJ9",w="posts_header__wgjik",k="posts_textarea__RAmm7",C="posts_button__FtaA0",D={post:"post_post__qbpcU",avatar:"post_avatar__GHvuP",username:"post_username__Ewa3W"},I=function(t){return(0,g.jsxs)("div",{className:D.post,children:[(0,g.jsx)("img",{className:D.avatar,src:Z,alt:"user"}),(0,g.jsxs)("div",{className:D.text,children:[(0,g.jsx)("p",{className:D.username,children:t.username}),(0,g.jsx)("p",{className:D.posttext,children:t.message})]})]})},y=e(704),A=e(6139),F=e(5304),R=e(7202),U=(0,F.D)(400),z=(0,y.Z)({form:"addPost"})((function(t){return(0,g.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,g.jsx)(A.Z,{component:R.g,validate:[F.C,U],className:k,name:"post",rows:"5",placeholder:"your news...",required:!0}),(0,g.jsx)("button",{className:C,children:"Send"})]})})),W=i.memo((function(t){var s=t.postsData.map((function(t){return(0,g.jsx)(I,{username:t.username,message:t.message})}));return(0,g.jsxs)("div",{className:P,children:[(0,g.jsx)("h3",{className:w,children:"My posts"}),(0,g.jsx)(z,{onSubmit:function(s){t.addPost(s.post)}}),s]})})),q=(0,c.$j)((function(t){return{postsData:t.profilePage.postsData,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(s){var e=(0,d.Wl)(s);t(e)}}}))(W),H=function(t){return(0,g.jsxs)("main",{className:m.content,children:[(0,g.jsx)("div",{className:m.parallax}),(0,g.jsx)(b,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,g.jsx)(q,{})]})},T=function(t){(0,u.Z)(e,t);var s=(0,o.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,n.Z)(e,[{key:"componentDidMount",value:function(){var t,s=this;if(this.props.match)t=this.props.match.params.userId;else{if(!this.props.isAuth)return(0,g.jsx)(l.Fg,{to:"/login"});t=this.props.authorizedUserId}f.FZ.getProfile(t).then((function(t){return s.props.setUserProfile(t)})),f.FZ.getStatus(t).then((function(t){return s.props.updateStatus(t)}))}},{key:"render",value:function(){return(0,g.jsx)(H,(0,a.Z)({},this.props))}}]),e}(i.Component),$=function(t){return function(s){var e=(0,l.bS)("/profile/:userId/");return(0,g.jsx)(t,(0,a.Z)((0,a.Z)({},s),{},{match:e}))}},E=(0,p.qC)((0,c.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{setUserProfile:d.$l,getStatus:d.lR,updateStatus:d.Nf}),$)(T)},211:function(t,s,e){t.exports=e.p+"static/media/user-avatar.0d10fc623bbf0cfa34b9.png"}}]);
//# sourceMappingURL=102.5c6dc8a0.chunk.js.map